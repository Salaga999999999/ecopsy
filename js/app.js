!function(e){function t(t){for(var i,a,r=t[0],l=t[1],c=t[2],d=0,f=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(u&&u(t);f.length;)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={0:0},s=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;s.push([12,1]),n()}([,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance)return e.instance;e.instance=this,n=Object.assign({desktopLg:1600,desktop:1024,tablet:1170,tabletV:1023,mobileLg:767,mobileMd:460,mobileSm:360},n),Object.keys(n).forEach(function(i){var o=-1!==i.indexOf("desktop")?"min":"max";t[i]=function(){return e.check(n[i],o)}}),this.isHorizontal=function(){return window.matchMedia("(orientation: landscape)").matches||document.documentElement.clientWidth>window.innerHeight},this.isVertical=function(){return!t.isHorizontal()}}return i(e,null,[{key:"check",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"max";return window.matchMedia("("+t+"-width: "+e+"px)").matches}}]),e}();t.default=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance)return e.instance;e.instance=this,this.inner=[]}return i(e,[{key:"unique",value:function(e){return!(this.inner.filter(function(t){return t===e}).length>0)&&e}},{key:"gen",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36,t=!1;!t;)t=this.unique((Date.now().toString(e)+Math.random().toString(e).substr(2,5)).toUpperCase());return this.inner.push(t),t}}],[{key:"resetInner",value:function(){this.inner=[]}}]),e}();t.default=o},,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.default=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),Object.assign(this,{only:!1,resize:{type:"debounce",value:200},on:{resize:!1}},n);var s="function"==typeof this.on.resize&&this.only&&this.only();if(s){var a="debounce"===this.resize.type?(0,i.debounce)(this.resize.value,this.on.resize.bind(this)):(0,i.throttle)(this.resize.value,this.on.resize.bind(this));e(window).on("resize",a)}}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(5)),o=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var r=function(t){function n(t){var o=t.$container,s=t.$controls,r=t.flickityInputOpt;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var l=o.find(r.cellSelector?r.cellSelector:"> *");void 0===s&&(s=null);var c=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,{only:function(){return o.length>0&&l.length>=1},on:{select:function(){},resize:function(){if(null!==c.UI.$controls&&null!==c.flickity&&void 0!==c.flickity.cells&&(c.flickity.on("select",function(){if(null!==c.UI.$controls&&null!==c.flickity){var t=0;t=void 0!==c.flickity.size?c.flickity.slides.length:e(c.flickity.element).find(".flickity-slider").length,c.UI.$nextBtn.prop("disabled",c.flickity.selectedIndex===t-1),c.UI.$prevBtn.prop("disabled",0===c.flickity.selectedIndex)}}),null!==c.UI.$controls&&null!==c.flickity)){var t=0;t=void 0!==c.flickity.size?c.flickity.slides.length:e(c.flickity.element).find(".flickity-slider").length,c.UI.$nextBtn.prop("disabled",c.flickity.selectedIndex===t-1),c.UI.$prevBtn.prop("disabled",0===c.flickity.selectedIndex),1===c.flickity.slides.length&&(c.flickity.x=-1*c.flickity.selectedSlide.firstMargin,c.flickity.animate())}}}}));if(!o.length>0||l.length<1)return a(c);Object.assign(c,{UI:{$container:o,$controls:s,$nextBtn:s.find(".slider-controls__next"),$prevBtn:s.find(".slider-controls__prev")},flickity:null,get sliderEnabled(){return!r.watchCSS||window.getComputedStyle(o.get(0),":after").content.indexOf("flickity")>-1},controlsCreated:!1,autoPlayStatus:!1,percentPosition:!1,controls:{update:function(){if(null!==c.UI.$controls&&null!==c.flickity){var t=0;t=void 0!==c.flickity.size?c.flickity.slides.length:e(c.flickity.element).find(".flickity-slider").length,c.UI.$nextBtn.prop("disabled",c.flickity.selectedIndex===t-1),c.UI.$prevBtn.prop("disabled",0===c.flickity.selectedIndex)}}}}),c.UI.$nextBtn.on("click",function(e){e.preventDefault(),c.flickity.next(),c.controls.update()}),c.UI.$prevBtn.on("click",function(e){e.preventDefault(),c.flickity.previous(),c.controls.update()});var u=c.UI.$container.data("autoplay"),d=void 0!==u&&u,f={};Object.assign(f,{prevNextButtons:!1,pageDots:!1,autoPlay:d,pauseAutoPlayOnHover:!1,wrapAround:!1,imagesLoaded:!0,cellAlign:"left",groupCells:!1,percentPosition:!1,on:{ready:function(){c.on.resize.call(c)},select:function(){if(null!==c.UI.$controls&&null!==c.flickity){var t=0;t=void 0!==c.flickity.size?c.flickity.cells.length:e(c.flickity.element).find(".flickity-slider").length,c.UI.$nextBtn.prop("disabled",c.flickity.selectedIndex===t-1),c.UI.$prevBtn.prop("disabled",0===c.flickity.selectedIndex)}}}},r),c.flickity=new i.default(o.get(0),f);var h=0;return o.get(0).ontouchstart=function(e){h=e.touches[0].clientX},o.get(0).ontouchmove=function(e){Math.abs(e.touches[0].clientX-h)>5&&e.cancelable&&e.preventDefault()},c.sliderEnabled&&(c.controls.update(),c.on.resize.call(c)),c.on.resize.call(c),e(window).resize(),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),n}();t.default=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),s=(i=o)&&i.__esModule?i:{default:i};t.default=function t(n){var i=this,o=n.$container,a=n.$btn,r=n.onOpen,l=void 0!==r&&r,c=n.onClose,u=void 0!==c&&c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,{UI:{$container:o,$btn:a},id:(new s.default).gen(),_state:!1}),Object.defineProperty(this,"state",{set:function(t){var n=this;this.UI.$btn.toggleClass("_active",t),this.UI.$container.cssAnimate(t),t?(l&&l.call(this),e(document).on("keyup."+this.id,function(e){"Escape"===e.key&&(n.state=!1)})):(u&&u.call(this),e(document).off("keyup."+this.id)),this._state=t},get:function(){return this._state}}),this.UI.$btn.on("click",function(e){e.preventDefault(),i.state=!i.state})}}).call(this,n(0))},,function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(13);var i=T(n(14)),o=T(n(4)),s=T(n(15)),a=T(n(2));n(16);var r=T(n(17)),l=T(n(19)),c=T(n(20)),u=T(n(22)),d=T(n(29)),f=T(n(30)),h=T(n(31)),p=T(n(9)),v=T(n(35)),m=T(n(36)),g=T(n(37)),b=T(n(38)),y=T(n(39)),_=T(n(40)),w=T(n(41)),$=T(n(42)),k=T(n(43)),I=T(n(44)),C=T(n(45)),U=T(n(46)),j=T(n(47)),x=T(n(49)),O=T(n(51)),S=T(n(53));function T(e){return e&&e.__esModule?e:{default:e}}s.default.check();var M,E=-1!==navigator.appVersion.indexOf("Win"),P=-1!==navigator.appVersion.indexOf("Mac");E&&!P&&document.documentElement.classList.add("is-windows"),P&&!E&&document.documentElement.classList.add("is-osx"),((M=document.createElement("a").style).cssText="position:sticky;position:-webkit-sticky;position:-ms-sticky;",-1!==M.position.indexOf("sticky"))&&document.documentElement.classList.add("position-sticky-support"),e(function(){e("body").removeClass("loading-without-transitions"),new m.default,new g.default,new v.default,new c.default(".field, .js-field"),new u.default,new d.default,new b.default;var n=new y.default;e(".accordion-wrap").each(function(t,n){return new _.default(e(n),400)}),new w.default,new $.default,new k.default,new C.default,new j.default,window.popup=new f.default,new h.default(".js-form"),new I.default,new U.default(e(".js-file")),new x.default,e(".js-video").each(function(e,t){new l.default(t)});var s=e(".text-block img:not([class])"),T=new S.default(s);s.on("click",function(t){var n=t.currentTarget;T.open(e(n))}),e(".field._select select").each(function(t,n){var s=e(n).parents(".field"),a=e(n),r=new i.default(n,{searchEnabled:!1});new o.default(e(r.dropdown.element).children(".choices__list").get(0)),a.on("change showDropdown",function(){var e=s.find(".choices__list--dropdown");e.find(".is-select").removeClass("is-select"),e.find('[data-value="'+a.val()+'"]').addClass("is-select")}),a.on("resetChoisec",function(){r.setChoiceByValue("")}),a.on("changeChoisec",function(e,t){r.setChoiceByValue(""+t)})}),e("[data-scroll-to]").on("click",function(t){t.preventDefault();var n=e(t.target),i=e(n.data("scroll-to"));if(i.length){var o=i.offset().top+i.height()/2-e(window).height()/2;e("html, body").animate({scrollTop:o},600)}}),e(".js-clients-slider:not(._slider-desktop)").each(function(t,n){new p.default({$container:e(n),$controls:e(n).closest(".container").find(".slider-controls"),flickityInputOpt:{contain:!0,groupCells:!0}})}),e(".js-content-slider").each(function(t,n){var i=e(n).find(".content-slider__img"),o=new S.default(i);new p.default({$container:e(n),$controls:e(n).closest(".container").find(".slider-controls"),flickityInputOpt:{contain:!1,prevNextButtons:!1,pageDots:!0,imagesLoaded:!0,on:{staticClick:function(t,n,i){o.open(e(i).find(".content-slider__img"))}}}})}),e("._preventClick").css("pointer-events","none").on("click",function(e){e.preventDefault()}),e(".services-links a._active").on("click",function(e){e.preventDefault()}),e(".js-multiselect").each(function(){new O.default(e(this))}),e(".js-clients-slider._slider-desktop").each(function(t,n){new p.default({$container:e(n),$controls:e(n).prev(".slider-controls"),flickityInputOpt:{watchCSS:!0,contain:!0,groupCells:!0}})}),e(".js-clients-slider-mobile").each(function(t,n){new p.default({$container:e(n),$controls:e(n).closest(".container").find(".slider-controls"),flickityInputOpt:{watchCSS:!0,contain:!0,groupCells:!0}})}),e.fn.articleMatchHeight=new r.default(".card-article",{property:"min-height"}),e("._mobile-btn").each(function(t,n){if(e(n).children().filter(":hidden").length){var i=e('<button class="btn _default _primary js-mobile-show-more-cards">'+e(n).data("mobile-show-more-text")+"</button>");i.on("click",function(){e(n).addClass("_mobile-items-visible"),i.remove()}).insertAfter(e(n))}});var M,E=!0;e(document).on("click",".js-show-more-cards",function(i){i.preventDefault();var o=e(i.currentTarget),s=o.closest(".container__show-more-cards"),a=s.length?s.prev():o.prev();E&&(E=!1,a.addClass("_loading"),e.ajax({url:o.attr("href"),type:"get",success:function(i){var s=e(window).scrollTop(),r=e(i).filter(function(t,n){return e(n).prop("nodeName")}),l=r.first().children(),c=r.find(".js-show-more-cards");c.length||(c=r.filter(".js-show-more-cards")),o.replaceWith(c),l.hide(),a.append(l),l.fadeIn(function(){return a.removeClass("_loading")}),E=!0,e.fn.articleMatchHeight.reInit(),"object"===t(n.on)&&n.hcSticky.refresh(),s<e(window).scrollTop()&&e(window).scrollTop(s)}}))}),e(".js-mobile-cards").each(function(t,n){new p.default({$container:e(n),$controls:e(n).closest(".container").find(".slider-controls._tablet-only"),flickityInputOpt:{watchCSS:!0,contain:!0,groupCells:!0,on:{ready:function(){e.fn.articleMatchHeight.reInit()}}}})}),e("#js-ecopsy-numbers").each(function(t,n){new p.default({$container:e(n),$controls:e(n).closest(".ecopsy-numbers").find(".slider-controls"),flickityInputOpt:{watchCSS:!0,contain:!0,groupCells:!0}})}),function(){var t=e(".sidebar__theme-title");t.css("word-wrap","normal");var n=function(){t.each(function(t,n){e(n).css("font-size","");for(var i=e(n).width()+1,o=n.scrollWidth,s=0;i<o&&s<100;)i=e(n).width()+1,o=n.scrollWidth,e(n).css("font-size",parseFloat(e(n).css("font-size"))/10-.1+"rem"),s++})};e(window).on("resize",n),n()}(),function(){var t=e(".container__links"),n=!1;if(t.length){var i=function(){!n&&a.default.tabletV()?(t.each(function(t,n){return e(n).closest(".container").append(e(n))}),n=!0):n&&!a.default.tabletV()&&(t.each(function(t,n){return e(n).closest(".container").children(".container__head").append(e(n))}),n=!1)};i(),e(window).on("resize",i)}}(),new r.default(".card-contact__info"),e(document).on("click","button[data-href]",function(t){t.preventDefault(),t.stopPropagation();var n=e(t.currentTarget),i=n.data("href"),o=n.data("target")||"";window.open(i,o)}),e(document).on("click","a button.btn",function(e){e.preventDefault(),e.stopPropagation()}),e(document).on("mousedown",function(){e("html").removeClass("keyboard-focus")}).on("keydown",function(t){var n=t.keyCode;e("html").toggleClass("keyboard-focus",9===n)}),M=function(){return e("html").css("--vh",.01*window.innerHeight+"px")},e(window).on("resize",M),M()})}).call(this,n(0))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=new function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance)return e.instance;e.instance=this;var t=navigator.userAgent,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,r=void 0,l=!1;return n=t.indexOf("Chrome")>-1,i=t.indexOf("MSIE")>-1||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,o=t.indexOf("Edge")>-1,s=t.indexOf("Firefox")>-1,a=t.indexOf("Safari")>-1,r=t.toLowerCase().indexOf("op")>-1,(n&&a||o&&a)&&(a=!1),(n&&r||o&&n)&&(n=!1),this.check=function(e){var t=!l;return l||(l=!0),n&&(t&&document.documentElement.classList.add("is-chrome"),"chrome"===e)?n:a&&(t&&document.documentElement.classList.add("is-safari"),"safari"===e)?a:s&&(t&&document.documentElement.classList.add("is-firefox"),"firefox"===e)?s:i&&(t&&document.documentElement.classList.add("is-ie"),"ie"===e)?i:r&&(t&&document.documentElement.classList.add("is-opera"),"opera"===e)?r:!(!o||(t&&document.documentElement.classList.add("is-edge"),"edge"!==e))&&o},this}},function(e,t,n){"use strict";(function(e){e.fn.cssAnimate=function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=10+i;e(this).off("transitionend.cssAnimateEnd").removeClass("_leave"),n&&e(this).addClass("_enter"),setTimeout(function(){n?e(t).removeClass("_enter").addClass("_enter-to"):e(t).removeClass("_enter-to").addClass("_leave").on("transitionend.cssAnimateEnd",function(t){t.target===this&&e(this).off("transitionend.cssAnimateEnd").removeClass("_leave")})},n?o:0)}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(18);var o=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{property:"min-height"};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,{opt:e.extend({property:"min-height",byRow:!0},i),$items:e(n)}),t.beforeUpdateBinded||(e.fn.matchHeight._beforeUpdate=function(t,n){n.forEach(function(t){t.elements.each(function(){e(this).data("match-height-prop")&&e(this).css(e(this).data("match-height-prop"),"")})})},t.beforeUpdateBinded=!0),this.init()}return i(t,[{key:"init",value:function(){this.$items.length&&this.$items.data("match-height-prop",this.opt.property).matchHeight(this.opt)}},{key:"reInit",value:function(){this.destroy(),this.init()}},{key:"destroy",value:function(){this.$items.removeData("match-height-prop").matchHeight({remove:!0})}}]),t}();t.default=o}).call(this,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=e(n);if(Object.assign(this,{UI:{$container:o,$playBtn:o.find(".js-video-play"),$iframeWrap:o.children(".js-video-wrap")},statistic:{started:!1,viewed25:!1,viewed50:!1,viewed75:!1,ended:!1},videoDuration:null,youtubeId:null,isNeedPoster:null,timer:null,API:"https://www.ecopsy.ru/bitrix/services/main/ajax.php"}),this.youtubeId=this.UI.$container.data("youtube-id"),this.isNeedPoster="none"===this.UI.$iframeWrap.css("background-image"),this.UI.$iframeWrap.append(e('<div class="js-video-iframe"></div>')),this.isNeedPoster){var s=new Image,a=this;s.onload=function(){var e="maxresdefault";this.height<=90&&(e="hqdefault"),a.UI.$iframeWrap.css("background-image","url(//img.youtube.com/vi/"+a.youtubeId+"/"+e+".jpg)")},s.src="//img.youtube.com/vi/"+this.youtubeId+"/maxresdefault.jpg"}this.UI.$playBtn.on("click",function(e){e.preventDefault(),i.player=new YT.Player(i.UI.$iframeWrap.find(".js-video-iframe")[0],{videoId:i.youtubeId,events:{onReady:i.onPlayerReady.bind(i),onStateChange:i.onPlayerStateChange.bind(i)}})}),this.createScript()}return n(t,[{key:"createScript",value:function(){var t=e('<script src="https://www.youtube.com/iframe_api"><\/script>'),n=e("script").eq(0);t.insertBefore(n)}},{key:"onPlayerReady",value:function(e){this.videoDuration=this.player.getDuration(),e.target.playVideo()}},{key:"onPlayerStateChange",value:function(t){var n=this,i=this.player.getVideoData(),o=i.title,s=i.video_id;if(t.data===YT.PlayerState.PLAYING){this.statistic.started||(e.get(this.API,{action:"video:statistics.api.actions.add",id:s||"",title:o,type:"start"}),this.statistic.started=!0);!function t(){var i=n.statistic,a=i.viewed25,r=i.viewed50,l=i.viewed75,c=n.player.getCurrentTime();!a&&c>=n.videoDuration/4&&(e.get(n.API,{action:"video:statistics.api.actions.add",id:s||"",title:o,type:25}),n.statistic.viewed25=!0),!r&&c>=n.videoDuration/2&&(e.get(n.API,{action:"video:statistics.api.actions.add",id:s||"",title:o,type:50}),n.statistic.viewed50=!0),!l&&c>=n.videoDuration/4*3&&(e.get(n.API,{action:"video:statistics.api.actions.add",id:s||"",title:o,type:75}),n.statistic.viewed75=!0),a&&r&&l||setTimeout(t,6e4)}()}else t.data===YT.PlayerState.ENDED&&(e.get(this.API,{action:"video:statistics.api.actions.add",id:s||"",title:o,type:"end"}),this.statistic.ended=!0)}}]),t}();t.default=i}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=a(n(21)),s=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var r=function(){function t(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".field";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.selector=i,this.$fields=e(i),this.genId=new s.default,this.destroy=function(){return n.$fields.trigger("destroy")},this.$fields.each(function(e,t){return n.UIBinding(t)})}return i(t,[{key:"UIBinding",value:function(n){if(!0===e(n).data("_field-inited"))return!1;var i=e(n);i.data("_field-inited",!0);var s=i.children("input, textarea")||i.children("select");if(s.length){var a=s.prev("label");a.length||(a=s.next("label"));var r="field-uid-"+this.genId.gen();a.length&&(a.attr("for")||""===a.attr("for")||a.attr("for",r),s.attr("id")||""===s.attr("id")||s.attr("id",r)),a.click(function(){return s.focus()}),s.on("focusin focusout",t.check).on("reset",function(){e(this).val("").removeClass("valid error _filled _focused")}).one("destroy",function(){void 0!==e(this).data("mask")&&e(this).data("mask").destroy(),e(this).off("reset"),a.off("click")}),s.is("textarea")&&(0,o.default)(s),(s.is(":focus")||s.val().length>0)&&i.addClass("_focused")}return this}},{key:"update",value:function(){var t=this;this.$fields=e(this.selector),this.$fields.filter(function(){return!0===e(this).data("_field-inited")}).each(function(e,n){return t.UIBinding(n)})}}],[{key:"check",value:function(t){var n=e(t.target);e(t.target).parent().toggleClass("_filled",n.val().length>0).toggleClass("_focused",n.is(":focus")||"focusin"===t.type)}}]),t}();t.default=r}).call(this,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(n(5)),s=r(n(8)),a=r(n(26));function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=e("#js-hero-slider"),s=t.children(".hero-slider__slide"),r=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,{only:function(){return t.length>0&&s.length>=1}}));if(!t.length>0||s.length<1)return l(r);var c=t.find(".slider-controls");Object.assign(r,{UI:{$container:t,$controls:c},flickity:null}),r.flickity=new o.default(t.get(0),{autoPlay:3e3,prevNextButtons:!1});var u=0;return t.get(0).ontouchstart=function(e){u=e.touches[0].clientX},t.get(0).ontouchmove=function(e){Math.abs(e.touches[0].clientX-u)>5&&e.cancelable&&e.preventDefault()},a.default.add(t),e(window).on("resize",(0,i.debounce)(300,!0,function(){t.addClass("_resize")})).on("resize",(0,i.debounce)(301,function(){t.removeClass("_resize")})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),n}();t.default=c}).call(this,n(0))},,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),a=n(27),r=(i=a)&&i.__esModule?i:{default:i};var l=function(){function t(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance)return t.instance;t.instance=this}return o(t,[{key:"onScroll",value:function(){this.$elements.each(function(){e(this).toggleClass("_will-change",(0,r.default)(this,{offset:300}))})}},{key:"add",value:function(t){void 0===this.$elements?(this.$elements=t,e(window).on("scroll",(0,s.throttle)(200,this.onScroll.bind(this)))):this.$elements.add(t),this.onScroll()}}]),t}();t.default=new l}).call(this,n(0))},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),r=(i=a)&&i.__esModule?i:{default:i};var l=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e("#js-decisions");if(!(!n.length>0)){Object.assign(this,{UI:{$container:n,$back:n.find(".decisions__test-back"),$form:n.find(".decisions__test"),$text:n.find(".decisions__text"),$steps:n.find(".decisions__test-step"),$btns:n.find(".decisions__test-question-btn"),$answersWrap:n.find(".decisions__test-answer"),$answers:n.find(".decisions__test-answer-items")}});var i=new r.default;this.UI.$btns.each(function(t,n){var o="question-"+i.gen();e(n).prop("id",o).next("label").prop("for",o)}),this.UI.$btns.change(this.next.bind(this)),this.UI.$back.click(this.back.bind(this))}}return s(t,[{key:"next",value:function(t){var n=t.currentTarget,i=this;"object"===o(window.dataLayer)&&window.dataLayer.push({event:"event-to-ga",eventCategory:"classificator_select",eventAction:e(n).next("label").text()}),this.UI.$steps.filter("._active").fadeOut(function(){var t=e(this).next(".decisions__test-step");e(this).removeClass("_active"),t.length?t.fadeIn(function(){e(this).addClass("_active")}):i.showAnswers()})}},{key:"back",value:function(){var t=this;this.UI.$answersWrap.filter("._active").fadeOut(function(){var n=e(this).prev(".decisions__test-step");e(this).removeClass("_active"),n.find(t.UI.$btns).prop("checked",!1),n.fadeIn(function(){e(this).addClass("_active")})})}},{key:"showAnswers",value:function(){var t=this;e.ajax({url:this.UI.$form.prop("action"),type:this.UI.$form.prop("method"),data:this.UI.$form.serialize(),success:function(e){t.UI.$text.addClass("_gapless"),t.UI.$answers.html(e),t.UI.$answersWrap.fadeIn(function(){t.UI.$answersWrap.addClass("_active")})}})}}]),t}();t.default=l}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function t(){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,{UI:{$popups:e(".popup"),$btnClose:e(".popup .btn._close"),$btnOpen:e(".js-popup-open"),$html:e("html")},popup:{$info:e("#thank")},isSafari:e("html").hasClass("is-safari"),speed:300,lastScroll:!1,open:function(t){var o=void 0;if(e("html").hasClass("_mobile-menu-active")&&e(".mobile-menu-wrap__close").click(),(void 0===t?"undefined":n(t))===n(""))o=e(t);else{if(t.preventDefault(),o=e(e(t.currentTarget).data("popup")),""!==e(t.currentTarget).attr("href")&&"#"!==e(t.currentTarget).attr("href")&&o.find('button[type="submit"]').attr("data-link",e(t.currentTarget).attr("href")),e(t.currentTarget).attr("data-title")&&o.find(".popup__title").text(e(t.currentTarget).attr("data-title")),e(t.currentTarget).is("[data-btn-text]")){var s=void 0;s=e(t.currentTarget).attr("data-btn-text").length?e(t.currentTarget).attr("data-btn-text"):e(t.currentTarget).text(),o.find('button[type="submit"]').eq(0).text(s)}e(t.currentTarget).attr("data-id")&&o.find(".form__hidden-inputs input.data-id").val(e(t.currentTarget).data("id")),o.is("#services")&&o.find(".field._select select").trigger("changeChoisec",e(t.currentTarget).data("service-id"))}o.is("#event-reg")&&(o.find(".form__hidden-inputs input.data-id").val(e(t.currentTarget).data("event-id")),o.find(".js-form").data("event-title",e(t.currentTarget).data("event-title")).end().find(".form__hidden-inputs input.data-title").val(e(t.currentTarget).data("event-title"))),i.UI.$popups.attr("data-open-content","0"),e(".popup._active").length&&i.close(t),i.isSafari&&(i.lastScroll=e(window).scrollTop(),i.UI.$html.addClass("_no-safari-scroll")),e("html, body").addClass("ovh"),i.closeContent(o),o.addClass("_active").fadeIn(i.speed)},close:function(t){(void 0===t?"undefined":n(t))!==n("")&&t.preventDefault(),e("html, body").removeClass("ovh"),i.UI.$popups.attr("data-open-content","0").removeClass("_active").fadeOut(i.speed),i.UI.$html.removeClass("_no-safari-scroll"),setTimeout(function(){i.isSafari&&!1!==i.lastScroll&&(e(window).scrollTop(i.lastScroll),i.lastScroll=!1)})},showInfo:function(t){var n=t.title,i=t.text,o=t.status,s=e(".popup._active");s.length?(s.attr({"data-open-content":"info","data-status":o}).find(".popup__content._info .popup__title").text(n).siblings(".popup__info").text(i),this.openInnerContent()):(e(".popup._thank").find(".popup__content .popup__title").text(n).siblings(".popup__content .popup__info").text(i),this.open("#thank"))},openInnerContent:function(){var t=e(".popup._active"),n=t.attr("data-open-content"),i=t.find('.popup__content[data-index="'+n+'"]');t.find(".popup__content._active").removeClass("_active").animate({height:0},300,function(){i.addClass("_active").animate({height:i[0].scrollHeight+"px"},300,function(){i.css("height","auto")})})},closeContent:function(e){var t=e.find(".popup__content");t.eq(0).hasClass("_active")||(t.siblings(".popup__content._active").removeClass("_active").css("height","0"),t.eq(0).css("height","auto").addClass("_active"))},nextContent:function(){var e=this.UI.$popups.siblings("._active");e.attr("data-open-content",+e.attr("data-open-content")+1),this.openInnerContent()}}),this.UI.$btnClose.on("click",this.close.bind(this)),this.UI.$btnOpen.on("click",this.open.bind(this)),this.UI.$popups.on("click",function(t){e(t.target).hasClass("popup")&&i.close(t)}),this.UI.$popups.each(function(t,n){e(n).find(".popup__content:not(._info)").each(function(t,n){e(n).attr("data-index",t)})})}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(32),a=(i=s)&&i.__esModule?i:{default:i};t.default=function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=e(n);if(s.length){var r=function(){"function"==typeof window.updateRecaptcha&&window.updateRecaptcha.call()};Object.assign(this,{UI:{$forms:s},strategies:{subscribe1:function(t){var n=e("#subscribe .form__hidden-inputs");n.empty(),e(t).serializeArray().forEach(function(e){var t=e.name,i=e.value;t.indexOf("recaptcha")>-1||n.append('<input type="hidden" name="'+t+'" value="'+i+'" />')}),a.default.clear(e(t)),e(t).find("input, select, textarea").focusout(),window.popup.open("#subscribe")},subscribe2:function(t){e(t).find('button[type="submit"]').prop("disabled",!0),e(t).ajaxSubmit().data("jqxhr").done(function(n){r(),"object"===o(window.dataLayer)&&window.dataLayer.push({event:"event-to-ga",eventCategory:"newsletter_subscription",eventAction:"submit"}),e(t).find('button[type="submit"]').prop("disabled",!1),a.default.clear(e(t));var i=e.parseJSON(n);window.popup.showInfo(i)})},subscription:function(t){var n=e(t).parents(".popup").find('form[data-form-name="subscription2"] .form__hidden-inputs');e(t).serializeArray().forEach(function(e){var t=e.name,i=e.value;t.indexOf("recaptcha")>-1||n.append('<input type="hidden" name="'+t+'" value="'+i+'" />')}),a.default.clear(e(t)),window.popup.nextContent()},subscription2:function(t){e(t).find('button[type="submit"]').prop("disabled",!0),e(t).ajaxSubmit().data("jqxhr").done(function(n){r(),e(t).find('button[type="submit"]').prop("disabled",!1),a.default.clear(e(t));var i=e.parseJSON(n);window.popup.showInfo(i)})},"event-reg":function(t){var n=e(t);e(t).find('button[type="submit"]').prop("disabled",!0),n.ajaxSubmit().data("jqxhr").done(function(i){r(),e(t).find('button[type="submit"]').prop("disabled",!1),"object"===o(window.dataLayer)&&window.dataLayer.push({event:"event-to-ga",eventCategory:"event_registration",eventAction:n.data("event-title")});var s=e.parseJSON(i);window.popup.showInfo(s),a.default.clear(e(t))})},feedback:function(t){var n=e(t);e(t).find('button[type="submit"]').prop("disabled",!0),n.ajaxSubmit().data("jqxhr").done(function(n){r(),"object"===o(window.dataLayer)&&window.dataLayer.push({event:"event-to-ga",eventCategory:"feedback",eventAction:"submit"}),e(t).find('button[type="submit"]').prop("disabled",!1);var i=e.parseJSON(n);window.popup.showInfo(i),a.default.clear(e(t))})},default:function(t){var n=e(t);e(t).find('button[type="submit"]').prop("disabled",!0),n.ajaxSubmit().data("jqxhr").done(function(i){r(),e(t).find('button[type="submit"]').prop("disabled",!1);var o=e.parseJSON(i);if(window.popup.showInfo(o),a.default.clear(e(t)),n.find('button[type="submit"]').data("link")&&o.success){var s=document.createElement("a");s.href=n.find('button[type="submit"]').data("link"),s.download="",document.body.appendChild(s),s.click(),s.remove()}})}}}),s.each(function(t,n){var s="undefined"!==o(i.strategies[e(n).data("form-name")])?i.strategies[e(n).data("form-name")]:i.strategies.default,r=void 0===s?{}:{submitHandler:s};new a.default(e(n),r)})}}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(33),n(34);var o=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.validationOpt=e.extend({errorPlacement:function(){return!1},highlight:function(t,n,i){e(t).parent().addClass("_"+n).removeClass("_"+i).attr("title",t.validationMessage);var o=e(this.currentForm).find(".form__errors");o.empty(),this.errorList.forEach(function(e){"required"===e.method&&o.text("Вы не заполнили обязательные поля")})},unhighlight:function(t,n,i){e(t).parent().removeClass("_"+n).addClass("_"+i).attr("title",null)}},i),this.$forms=n,this.instances=[],this.init()}return i(t,[{key:"init",value:function(){var t=this;return this.$forms.each(function(n,i){return t.instances.push(e(i).validate(t.validationOpt))}),this}},{key:"destroy",value:function(){return this.instances.forEach(function(e){return e.destroy()}),this.instances.length=0,this}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.length>1,o=void 0,s=[];return t.each(function(t,a){o=e(a).serializeArray(),n&&e(a).data("saved",o),i&&s.push(o)}),i?s:o}},{key:"restore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$forms,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments[2];t.each(function(t,o){"number"===(i=n?e(o).data("saved"):i).length&&(i=i[t]),i.forEach(function(t){var n="[name='"+t.name+"']",i=e(o).find("input"+n+", select"+n+", textarea"+n);if(i.is("[type=checkbox]")){var s=i.filter('[value="'+t.value+'"]');s.length&&s.prop("checked",!0).trigger("change")}else if(i.is("[type=radio]")){var a=i.filter('[value="'+t.value+'"]');a.length&&a.prop("checked",!0).trigger("change")}else i.val(t.value).trigger("change")})})}}],[{key:"clear",value:function(e){e.find(".field._select select").trigger("resetChoisec"),e.find(".field._select2 select").trigger("reset"),e.find("input[type=text], input[type=email], input[type=tel], input[type=password], textarea, input[type=number], input[type=search]").val("").end().find("._filled, ._focused, .error, ._success, .checkbox").removeClass("_filled, _focused, error, _success".replace(",","")).end().find("input[type=checkbox]").prop("checked",!1)}}]),t}();t.default=o}).call(this,n(0))},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(10),a=(i=s)&&i.__esModule?i:{default:i};var r=function(){function t(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance)return t.instance;t.instance=this;var n=e("#js-header");Object.assign(this,{UI:{$header:n},instances:{lang:null,search:null,services:null}}),this.initLang(),this.initMenuServices(),e("#js-header-menu a._active-prevent").on("click",function(e){e.preventDefault()})}return o(t,[{key:"initLang",value:function(){this.instances.lang=new a.default({$container:e("#js-lang"),$btn:e("#js-lang-btn"),onOpen:function(){var t=this;setTimeout(function(){e(document).one("click.closeOutsideMenu",function n(i){!e(i.target).closest("#js-lang").length>0?t.state=!1:e(document).off("click.closeOutsideMenu").one("click.closeOutsideMenu",n)})})}})}},{key:"initMenuServices",value:function(){var t=this,n=!1,i={$header:this.UI.$header,$container:e("#js-menu-services"),$btn:e("#js-menu-services-btn"),$deactivateMenuElements:this.UI.$header.find("a, button").not("#js-menu-services-btn")},o=function(){i.$container.removeClass("_need-scroll").off("mouseenter").off("click.overlay_services").cssAnimate(!1),e("body").removeClass("ovh"),i.$header.off("click.menu-services")};e(document).one("mouseleave","*",function(){n=!0}),i.$btn.on("mouseenter",function(){n&&(i.$container.one("mouseenter",function(){return i.$container.one("mouseleave",o)}).one("click.overlay_services",function(t){e(t.target).is(i.$container)&&o()}).cssAnimate(!0),setTimeout(function(){var e=i.$container.outerHeight(),t=i.$container.get(0).scrollHeight;i.$container.toggleClass("_need-scroll",t>e)}),i.$deactivateMenuElements.one("mouseenter",o),i.$header.one("click.menu-services",o),e("body").addClass("ovh"),e(document).off("click.closeOutsideMenu"),t.instances.lang.state=!1)})}}]),t}();t.default=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(1),s=n(2),a=(i=s)&&i.__esModule?i:{default:i};t.default=function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.isDesktop=a.default.desktop();var i=e("#js-header-mobile");Object.assign(this,{UI:{$mobileHeader:i,$searchBtn:e("#js-mobile-search-btn"),$menuBtn:e("#js-mobile-menu-btn"),$transparentHeaderSection:e("#js-hero-slider").add(e(".hero-slider__title").eq(0)).add(e(".page._404 .page__header-content").eq(0))},transparentSectionOffset:null,headerHeight:null,on:{scroll:function(){if(!n.isDesktop){var t=e(window).scrollTop(),i=n.transparentSectionOffset<t+n.headerHeight;n.UI.$mobileHeader.toggleClass("_white",i)}},resize:function(){if(n.isDesktop=a.default.desktop(),!n.isDesktop){var t=[];n.UI.$transparentHeaderSection.each(function(n,i){var o=e(i).offset().top;0!==o&&t.push(o)}),n.transparentSectionOffset=Math.min.apply(Math,t),n.headerHeight=i.outerHeight(),n.on.scroll()}}}}),this.UI.$transparentHeaderSection.length?(this.on.resize(),e(window).on("scroll",(0,o.throttle)(100,this.on.scroll)).on("resize",this.on.resize)):this.UI.$mobileHeader.addClass("_white")}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),a=(i=s)&&i.__esModule?i:{default:i};var r=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e("#js-mobile-menu");Object.assign(this,{UI:{$html:e("html"),$mobileMenu:n,$gotoMainMenuBtn:n.find(".mobile-menu__goto-general-menu"),$gotoServicesBtn:n.find(".mobile-menu__goto-services"),$services:e("#js-menu-services"),$servicesOpenBtn:n.find("._services"),$lang:e("#js-lang"),$langOpenBtn:e("#js-mobile-lang-btn"),$openBtn:e("#js-mobile-menu-btn"),$closeBtn:n.find(".mobile-menu-wrap__close"),$mobileSearchBtns:e("#js-mobile-search-btn").add(n.find("button._search"))},isSafari:e("html").hasClass("is-safari")}),this.UIBinding()}return o(t,[{key:"enable",value:function(){this.UI.$mobileMenu.cssAnimate(!0),this.UI.$html.addClass("_mobile-menu-active"),this.isSafari&&(this.lastScroll=e(window).scrollTop(),this.UI.$html.addClass("_no-safari-scroll"))}},{key:"disable",value:function(){var t=this;this.UI.$mobileMenu.cssAnimate(!1),this.UI.$html.removeClass("_mobile-menu-active"),this.disableSubmenu(),this.disableServices(),this.disableLang(),this.isSafari&&(setTimeout(function(){e(window).scrollTop(t.lastScroll)}),this.UI.$html.removeClass("_no-safari-scroll"))}},{key:"enableServices",value:function(){this.UI.$services.cssAnimate(!0),this.UI.$mobileMenu.find(".mobile-menu").scrollTop(0),this.UI.$mobileMenu.addClass("_back-to-general-active")}},{key:"disableServices",value:function(){this.UI.$services.cssAnimate(!1),this.UI.$mobileMenu.removeClass("_back-to-general-active")}},{key:"enableSubmenu",value:function(e){e.next(".menu__list").addClass("_active"),this.UI.$mobileMenu.find(".mobile-menu").scrollTop(0),this.UI.$mobileMenu.addClass("_back-to-services-active"),this.UI.$services.addClass("_submenu-active")}},{key:"disableSubmenu",value:function(){this.UI.$services.removeClass("_submenu-active").find(".menu__list._active").removeClass("_active"),this.UI.$mobileMenu.removeClass("_back-to-services-active")}},{key:"enableLang",value:function(){this.UI.$mobileMenu.find(".mobile-menu").scrollTop(0),this.UI.$lang.cssAnimate(!0),this.UI.$mobileMenu.addClass("_back-to-general-active")}},{key:"disableLang",value:function(){this.UI.$lang.cssAnimate(!1),this.UI.$mobileMenu.removeClass("_back-to-general-active")}},{key:"UIBinding",value:function(){var t=this;this.UI.$mobileMenu.on("click",function(n){var i=n.target;e(i).is(t.UI.$mobileMenu)&&t.disable()}),this.UI.$openBtn.on("click",this.enable.bind(this)),this.UI.$closeBtn.on("click",this.disable.bind(this)),this.UI.$langOpenBtn.on("click",this.enableLang.bind(this)),this.UI.$servicesOpenBtn.on("click",function(e){e.preventDefault(),t.enableServices()}),this.UI.$gotoMainMenuBtn.click(function(){t.disableSubmenu(),t.disableServices(),t.disableLang(),t.UI.$mobileMenu.removeClass("_back-to-services-active")}),this.UI.$gotoServicesBtn.click(function(){t.disableSubmenu()}),this.UI.$services.find(".menu__list-title").on("click",function(e){a.default.tabletV()&&e.preventDefault()})}}]),t}();t.default=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(6),a=(i=s)&&i.__esModule?i:{default:i},r=n(1);var l=function(){function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e("#js-page-nav");if(i.length){var o=e("#js-header"),s=function(){return{top:o.height()+parseInt(i.css("marginTop"),10),left:o.find(".header__row-content").eq(0).offset().left}};Object.assign(this,{UI:{$container:i,$whiteBgElements:e("#js-page-bg, .container._wrap-form, .container._background"),$pageTitles:e(".page__content .container__title"),$pageLinks:null},navOffset:s(),hcSticky:null,on:{resize:function(){n.navOffset=s(),i.css("marginLeft",n.navOffset.left)},scroll:function(){var t=e(window).scrollTop(),i=0;n.UI.$pageTitles.each(function(o,s){var a=t+n.navOffset.top+10;e(s).offset().top<a&&(i=o)});var o=n.UI.$pageLinks.filter("._active"),s=n.UI.$pageLinks.eq(i);o.is(s)||(o.removeClass("_active"),s.addClass("_active"))},scrollThemeChange:function(){n.UI.$pageLinks.each(function(t,i){var o=e(i).offset().top+e(i).height()/2,s=!0;n.UI.$whiteBgElements.each(function(t,n){var i=e(n).offset().top,a=e(n).outerHeight();i<o&&i+a>o&&s&&(s=!1)}),e(i).toggleClass("_black",s)})}}}),this.renderNav(),this.on.resize(),this.on.scroll(),this.UI.$whiteBgElements.length?(this.on.scrollThemeChange(),e(window).on("scroll.themeChange",(0,r.throttle)(50,this.on.scrollThemeChange))):this.UI.$pageLinks.addClass("_black"),this.hcSticky=new a.default(i.get(0),{get top(){return o.outerHeight()},responsive:{1023:{disable:!0}}}),e(window).on({scroll:(0,r.throttle)(200,this.on.scroll),resize:this.on.resize});var l=window.location.hash;if(l){var c=e(l);l&&c.length&&setTimeout(function(){var t=c.offset().top-n.navOffset.top;e("html, body").animate({scrollTop:t},300)})}}}return o(t,[{key:"renderNav",value:function(){var t=this;this.UI.$pageTitles.each(function(n,i){var o=e(i),s="container-"+n;o.hasClass("_anchor")?o.attr("id",s):o.closest(".container").attr("id",s);var a=e('<a href="#'+s+'">'+o.text()+"</a>");t.UI.$container.append(a.data("target",o))}),this.UI.$pageLinks=this.UI.$container.children("a"),this.UI.$pageLinks.on("click",function(n){n.preventDefault();var i=e(n.currentTarget).data("target").offset().top-t.navOffset.top;e("html, body").animate({scrollTop:i},500)})}}]),t}();t.default=l}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(6)),o=n(1),s=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=e(".js-sidebar");if(a.length){var r=e(".container._lg, ._wrap-form, .container._background, .page__grey-wrap"),l=e("#js-header"),c=a.clone(),u=e(".js-sidebar-parent"),d=e("#js-footer"),f=function(){return{top:l.height()+parseInt(a.css("marginTop"),10),right:l.find(".header__row-content").eq(0).offset().left}};Object.assign(this,{UI:{$container:a},navOffset:f(),hcSticky:null,isContentSidebar:!1,isSidebarEnabled:!1,on:{resize:function(){n.navOffset=f(),n.isSidebarEnabled||(a.css("opacity",1),u.find(".sidebar").css("display","flex"),n.isSidebarEnabled=!0,a.css("marginLeft",l.find(".header__row-content").outerWidth()+n.navOffset.right-n.UI.$container.outerWidth())),s.default.tabletV()?(n.isSidebarEnabled=!0,u.append(c),c.addClass("_content"),c.css("marginLeft",0),c.removeClass("js-sidebar")):(n.isSidebarEnabled=!1,u.css("min-height",a.height()).find(".sidebar").hide())},scroll:function(){}},init:function(){r.length?this.hcSticky=new i.default(a.get(0),{followScroll:!1,get top(){return l.outerHeight()},get bottomEnd(){return d.eq(0).offset().top-r.eq(0).offset().top+20},responsive:{1023:{disable:!0}}}):this.hcSticky=new i.default(a.get(0),{followScroll:!1,get top(){return l.outerHeight()},bottomEnd:20,responsive:{1023:{disable:!0}}})}}),this.on.resize(),this.on.scroll(),this.init(),e(document.documentElement).on("accordion-open",function(){n.hcSticky.update({onStop:function(){a.css({top:a.offset().top-l.outerHeight()-parseInt(a.css("margin-top"),10),bottom:"auto"})},get bottomEnd(){return d.eq(0).offset().top-r.eq(0).offset().top+20}})}),e(document.documentElement).on("accordion-close",function(){n.hcSticky.update({get bottomEnd(){return d.eq(0).offset().top-r.eq(0).offset().top+20}})}),e(window).on({scroll:(0,o.throttle)(200,this.on.scroll),resize:this.on.resize})}}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.default=function t(){var n=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;o(this,t),Object.assign(this,{UI:{$container:s},on:{open:function(e){e.addClass("_visible").animate({height:e.get(0).scrollHeight},{duration:a,start:function(){document.documentElement.dispatchEvent(new Event("accordion-open"))},complete:function(){e.height("auto"),document.documentElement.dispatchEvent(new Event("accordion-open"))}}),e.parents(".accordion").addClass("_active")},close:function(e){e.removeClass("_visible").stop().animate({height:"0"},a,function(){document.documentElement.dispatchEvent(new Event("accordion-close"))}),e.parents(".accordion").removeClass("_active")},clickItem:function(t){var i=t.currentTarget,o=e(i).parent(".accordion");if("disabled"!==o.attr("disabled")){var s=o.find(".accordion__content");0===s.height()?n.on.open(s):n.on.close(s)}},resize:function(){s.find(".accordion").removeClass("_active").find(".accordion__content-wrap, .accordion__content").css({display:"",height:""})}}}),this.UI.$container.on("click",".accordion__head",function(e){n.on.clickItem(e)}),e(window).resize((0,i.debounce)(700,this.on.resize.bind(this)))}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(5)),o=a(n(9)),s=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=e(".js-about-clients");a.length&&(Object.assign(this,{UI:{$container:a,$btns:e(".js-about-partners").find(".btn._transparent"),$show:a.find(".js-show"),$slider:a.find(".js-clients-slider._slider-desktop")},on:{btnClick:function(t){var r=i.default.data(n.UI.$slider[0]),l=0;l=s.default.tabletV()?n.UI.$slider.find(".js-clients-slider-mobile").children().length:a.data("items-count"),void 0!==r&&r.destroy(),n.UI.$btns.filter("._active").removeClass("_active"),e(t.currentTarget).addClass("_active");var c=e(t.currentTarget).data("images"),u=[],d=0,f=void 0;if(s.default.tabletV()){f=e("<div/>",{class:"clients-slider__slide-about js-clients-slider-mobile"});for(var h=0;h<c.length;h++){var p=e("<div/>",{class:"clients-slider__item"});p.append(e("<img/>",{src:c[d]})),f.append(p),d++}u.push(f)}else for(var v=0;v<Math.floor(c.length/l);v++){f=e("<div/>",{class:"clients-slider__slide-about js-clients-slider-mobile"});for(var m=0;m<l;m++){var g=e("<div/>",{class:"clients-slider__item"});g.append(e("<img/>",{src:c[d]})),f.append(g),d++}u.push(f)}if(c.length%l!=0){f=e("<div/>",{class:"clients-slider__slide-about"}),n.UI.$slider.hasClass("_slider-desktop")&&f.addClass("js-clients-slider-mobile");for(var b=0;b<c.length%l;b++){var y=e("<div/>",{class:"clients-slider__item"});y.append(e("<img/>",{src:c[d]})),f.append(y),d++}u.push(f)}n.UI.$slider.empty(),n.UI.$slider.append(u),s.default.tabletV()?new o.default({$container:n.UI.$slider.find(".js-clients-slider-mobile"),$controls:n.UI.$slider.closest(".container").find(".slider-controls"),flickityInputOpt:{watchCSS:!0,contain:!0,groupCells:!0}}):new o.default({$container:n.UI.$slider,$controls:n.UI.$slider.closest(".container").find(".slider-controls"),flickityInputOpt:{watchCSS:!0,contain:!0,groupCells:!0}})},showClick:function(){n.UI.$btns.filter(":hidden").fadeIn(),n.UI.$show.toggle()}}}),this.UI.$show.on("click",this.on.showClick),this.UI.$btns.on("click",this.on.btnClick),window.onload=function(){var t=!1;e(window).on("resize",function(){s.default.tabletV()?(t||n.UI.$btns.filter("._active")[0].click(),t=!0):t=!1})})}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.default=function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e(".sidebar._hrtimes");if(i.length){var o=e("#js-header"),s=function(){return{top:o.height()+parseInt(i.css("marginTop"),10),left:o.find(".header__row-content").eq(0).offset().left}};Object.assign(this,{UI:{$container:i},navOffset:s(),on:{resize:function(){n.navOffset=s(),i.css("marginLeft",n.navOffset.left)}}}),this.on.resize(),e(window).on("resize",this.on.resize)}}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.default=function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e(".page__hero._journal");if(i.length){var o=e(".js-sidebar"),s=function(){var t=parseInt(e("html").css("fontSize"),10);return o.outerHeight()+8*t};Object.assign(this,{UI:{$pageHero:i,$sidebar:i.parent().find(".sidebar"),$content:i.siblings(".page__content")},asideHeight:s(),on:{resize:function(){var e=parseInt(n.UI.$content.css("paddingTop"),10);n.asideHeight=s(),n.UI.$content.css({minHeight:n.asideHeight+e,position:""})}}}),this.on.resize(),e(window).on("resize",this.on.resize)}}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function t(){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e("#js-authors-popup").length){var i=e(".js-authors-popup-btn");this.$content=e(".js-authors-wrap"),i.on("click",function(e){e.preventDefault(),t.activate(e)}),window.popup.UI.$btnClose.on("click",function(e){n.close(e)}),window.popup.UI.$popups.on("click",function(t){e(t.target).hasClass("popup")&&n.close(t)})}}return n(t,[{key:"close",value:function(){this.$content.children().remove()}}],[{key:"activate",value:function(t){for(var n=e(t.target).next("span").data("authors"),i=0;i<n.items.length;i++){for(var o=n.items[i],s=e("<div/>",{class:"author__links"}),a=0;a<o.links.length;a++)s.append(o.links[a]);var r=e("<div/>",{class:"author"}),l=e("<div/>",{class:"author__row"}),c='\n            <div class="author__info">\n                <div class="author__imgs">\n                        <div class="author__wrap-img">\n                            <img src="'+o.img+'" alt="">\n                        </div>\n                </div>\n                <div class="author__text">\n                     <p><b>'+o.name+"</b></p>\n                     <span>"+o.position+"</span>\n                </div>\n                </div>";l.append(c),l.append(s),r.append(l),e("#js-authors-popup").find(".js-authors-wrap").append(r)}window.popup.open("#js-authors-popup")}}]),t}();t.default=i}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.default=function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e(".hero-slider__slide");if(i.length){var o=e("#js-header"),s=function(){return{top:o.height()+parseInt(i.css("marginTop"),10),left:o.find(".header__row-content").eq(0).offset().left}};Object.assign(this,{UI:{$container:i},navOffset:s(),on:{resize:function(){n.navOffset=s(),i.css("paddingLeft",n.navOffset.left)}}}),this.on.resize(),e(window).on("resize",this.on.resize)}}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),s=(i=o)&&i.__esModule?i:{default:i};t.default=function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),0!==n.length&&(Object.assign(this,{UI:{$inputWraps:n},on:{change:function(e){var t=e.$input,i=e.$label,o=t.get(0),s="";s=o.files&&o.files.length>1?(t.data("multiple-caption")||"").replace("{count}",o.files.length):o.value.split("\\").pop(),n.addClass("_filled"),s?i.text(s).prop("title",s):i.text(i.data("_text")).prop("title","")},clear:function(e){var t=e.$input,i=e.$label;t.val(""),i.text(t.data("title")).prop("title",t.data("title")),n.removeClass("_filled")}},genId:new s.default}),this.UI.$inputWraps.each(function(t,n){var o="file-uid-"+i.genId.gen(),s=e(n),a=s.children("input[type=file]"),r=a.next("label"),l=s.find(".btn._clear");r.length&&(r.attr("for")||""===r.attr("for")||r.attr("for",o),a.attr("id")||""===a.attr("id")||a.attr("id",o)),r.data("_text",r.text()),l.on("click",function(){return i.on.clear({$input:a,$label:r})}),a.attr("data-title",r.text()).on("change",function(){return i.on.change({$input:a,$label:r})})}))}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=r(n(6));n(48);var s=n(1),a=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e("#js-filter");if(i.length){var r=e(".js-show-filters");Object.assign(this,{UI:{$container:i,$headerMenu:e("#js-header-menu"),$headerMobile:e("#js-header-mobile"),$header:e("#js-header"),$rows:i.find(".filter__row"),$filterContainer:i.find(".filter__controls-container"),$reset:i.find(".filter__reset"),$form:i.find("form"),$selects:i.find("select"),$checkboxes:i.find('input[type="checkbox"]'),$applyContainers:e(".js-apply-filter"),$btnOpenMobile:i.find(".js-open-mobile-filter"),$applyBtn:i.find(".filter__apply"),$fixedSelect:i.find(".js-multiselect._fixed-visible")},hcStickyFilter:null,hcSticky:null,numberContainer:8,filterChanged:!1,on:{init:function(){var t=0;t=a.default.tabletV()?e("#js-header-mobile").outerHeight():e("#js-header").outerHeight(),this.hcSticky=new o.default(i.get(0),{get top(){return t},responsive:{1023:{disable:!0}}}),this.hcStickyFilter=new o.default(r.get(0),{get top(){return t+20},responsive:{1023:{disable:!0}},onStart:function(){if(i.hasClass("_visible")){var e=r.css("top");r.css("top",parseInt(e,10)+i.outerHeight())}}}),this.UI.$rows.css("paddingLeft",this.UI.$headerMenu.offset().left)},resize:function(){var t=this;r.css("marginLeft",e(window).width()/2-r.outerWidth()/2),a.default.tabletV()?(this.UI.$rows.css("paddingLeft",0),this.UI.$rows.css("paddingRight",0)):(this.UI.$rows.css("paddingLeft",this.UI.$headerMenu.offset().left),this.UI.$rows.css("paddingRight",e(window).outerWidth()-(this.UI.$headerMenu.offset().left+this.UI.$headerMenu.outerWidth())));var n=0;n=a.default.tabletV()?this.UI.$headerMobile.outerHeight():this.UI.$header.outerHeight(),null!==this.hcSticky&&(this.hcSticky.update({get top(){return n}}),this.hcStickyFilter.update({get top(){return n+20}})),a.default.desktop()?(e("html, body").removeClass("ovh"),this.UI.$form.fadeIn(0,function(){t.UI.$form.animate({opacity:"1"})})):e("html").hasClass("ovh")||this.UI.$form.fadeOut(0,function(){t.UI.$form.css({display:""}).animate({opacity:"0"})})},setContent:function(){var e=!n.UI.$applyContainers.last().text().trim().length,t=n.UI.$applyContainers.last().closest(".container");t.prev(".container._wrap-form").css("marginBottom",e?0:""),t.toggleClass("hidden",e)},filterUpdate:function(){r.toggleClass("_changed",this.filterChanged)}}}),e(".search-field").length||(e('<div class="filter-wrap-margin-top"></div>').insertBefore(i),e('<div class="filter-wrap-margin-bottom"></div>').insertAfter(i)),e(window).on("resize",(0,s.debounce)(300,this.on.resize.bind(this))),i.find(".js-filter-date").each(function(t,n){var i=!1,o=e(n).children(".filter-date__text"),s=e(n).find("input"),a=o.text(),r=s.datepicker({range:!0,multipleDatesSeparator:" - ",keyboardNav:!1,onSelect:function(e){o.text(e),s.trigger("change"),e.length||(r.clear(),o.text(a))},onShow:function(){e(n).addClass("_open"),i=!0},onHide:function(){e(n).removeClass("_open"),i=!1}}).data("datepicker");e(n).on("click",function(){i?r.hide():r.show()}),e(n).on("reset",function(){r.clear(),o.text(a)})}),r.click(function(){var e=r.css("top");r.data("text")||r.data("text",r.text()),i.hasClass("_visible")?(i.toggleClass("_visible"),r.children("span").text(r.data("text")).end().css("top",parseInt(e,10)-i.outerHeight())):(r.children("span").text(r.data("toggle-text")).end().css("top",parseInt(e,10)+i.outerHeight()),i.toggleClass("_visible"))});var l=i.find('[name="type[]"]'),c=l.filter("select"),u=l.filter("input");c.on("change",function(){c.children("option").each(function(t,n){u.eq(t).prop("checked",e(n).prop("selected"))})}),u.on("change",function(){var t=c.children("option"),n=c.next(".multiselect").find(".multiselect__dropdown li");u.each(function(i,o){var s=e(o).prop("checked"),a=n.eq(i);t.eq(i).prop("selected",s),s?a.hasClass("_selected")||a.trigger("click",{noTriggerChange:!0}):a.hasClass("_selected")&&a.trigger("click",{noTriggerChange:!0})})}),this.on.resize.call(this),this.on.init.call(this),this.UI.$btnOpenMobile.on("click",this.openMobile.bind(this)),this.UI.$form.find(".btn._close").on("click",this.closeMobile.bind(this)),this.UI.$applyBtn.click(function(){n.submitFilter()}),this.UI.$form.submit(function(e){e.preventDefault(),n.submitFilter()}),this.UI.$reset.click(function(t){var o=e(t.currentTarget).closest(".filter__row"),s=i.hasClass("sticky")?o.find(".multiselect"):o.find(".js-multiselect:not(._fixed-visible) + .multiselect");o.find('.filter__checkbox input[type="checkbox"]').each(function(t,n){e(n).prop("checked",!1)}),s.find(".multiselect__reset").click(),o.find(".js-filter-date").each(function(t,n){e(n).trigger("reset").find("input").val("")}),n.filterChanged=!1,n.on.filterUpdate.call(n),n.submitFilter()}),this.UI.$form.on("change",function(t){var i=e(t.target),o=e(t.currentTarget),s=n.UI.$checkboxes.filter(i).length>0,r=n.UI.$selects.filter(i).length>0,l=i.is("input")&&i.is('[type="text"]'),c=s||r||l;!a.default.tabletV()&&c&&(n.filterChanged=o.serializeArray().length>0,n.on.filterUpdate.call(n),n.submitFilter())}),this.on.filterUpdate.call(this),this.on.setContent(),setTimeout(function(){n.UI.$rows.css("paddingLeft",n.UI.$headerMenu.offset().left),i.addClass("_inited")},300)}}return i(t,[{key:"openMobile",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n&&n.preventDefault(),e("html, body").addClass("ovh"),this.UI.$form.fadeIn(this.speed,function(){t.UI.$form.animate({opacity:1})})}},{key:"closeMobile",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n&&n.preventDefault(),e("html, body").removeClass("ovh"),this.UI.$form.fadeOut(this.speed,function(){t.UI.$form.css({display:"",opacity:""})})}},{key:"submitFilter",value:function(){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.UI.$form.ajaxSubmit({filtering:function(t){var n=e(t).is('[name="type[]"]'),i=e(t).is("select");return(!n||!i)&&t}}).data("jqxhr").done(function(n){var i=e(n);t.setContent(i)}),a.default.tablet()&&t.closeMobile(),t.timeout=!1},this.wait)}},{key:"setContent",value:function(t){var n=this,i=(t=t.filter(function(t,n){return e(n).prop("nodeName")})).first().children(),o=t.filter(".container__show-more-cards, .js-show-more-cards"),s=this.UI.$applyContainers.children().not(".container__show-more-cards").not(".js-show-more-cards").not(".field").not(".not-fount-text"),a=t.filter("h3");!i.length&&a.length&&(i=a),s.children().remove(),s.length>1?i.each(function(t,n){t<8?s.first().append(e(n)):s.last().append(e(n))}):s.children("h3").length||s.first().append(i);var r=this.UI.$applyContainers.last().children(".container__show-more-cards");r.length||(r=this.UI.$applyContainers.last().children(".js-show-more-cards")),r.length?r.replaceWith(o):this.UI.$applyContainers.last().append(o),e.fn.articleMatchHeight.reInit(),this.on.setContent(),setTimeout(function(){if(e(window).scrollTop()>n.UI.$applyContainers.offset().top+60){var t=n.UI.$applyContainers.offset().top-e("#js-header").outerHeight()-n.UI.$container.outerHeight();e("html, body").animate({scrollTop:t},500)}var i=e(".js-sidebar");i.length&&i.height()>n.UI.$applyContainers.height()?i.hide():i.length&&window.matchMedia("(min-width: 1023px)").matches&&i.show()})}}]),t}();t.default=l}).call(this,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n(4)),s=n(1),a=l(n(50)),r=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e("#js-search");this.UI={$container:n,$search:n.find(".js-field input"),$linkContainer:n.find(".search__relative-results"),$form:n.find(".search"),$btn:e("#js-search-btn, #js-search .js-search-close"),$mobileBtn:e("#js-mobile-search-btn"),$mobileSearchBtns:e("#js-mobile-search-btn").add(e("#js-mobile-menu").find("button._search"))},this.debounceSpeed=500,n.length&&this.init()}return i(t,[{key:"init",value:function(){var t=this,n=this;this.UI.$search.on("input",(0,s.debounce)(this.debounceSpeed,this.getLinksServer.bind(this))),this.TogglerSearch=new r.default({$container:this.UI.$container,$btn:this.UI.$btn,onOpen:function(){var e=this;setTimeout(function(){e.UI.$container.find(".js-field input").focus()},100)},onClose:function(){n.UI.$form.get(0).reset(),n.UI.$linkContainer.html("")}}),this.UI.$mobileSearchBtns.on("click",function(e){e.preventDefault(),t.TogglerSearch.state=!0}),e(".search-wrap").on("click",function(n){var i=n.target;(e(i).hasClass("search__relative-results")||e(i).hasClass("search-wrap"))&&(t.TogglerSearch.state=!1)});var i=!1,l=this.UI.$form.data("hints-url");new a.default({selector:".search-field input",minChars:2,source:function(t,n){t=t.toLowerCase(),i&&(i.abort(),i=!1),i=e.getJSON(l,{q:t},function(e){e=e.map(function(e){return e.text}),n(e)})},renderItem:function(t){return'<div class="autocomplete-suggestion" data-val="'+e("<span>"+t+"</span>").text()+'">'+t+"</div>"}}),e(".autocomplete-suggestions").each(function(e,t){new o.default(t)})}},{key:"getLinksServer",value:function(){var e=this;this.UI.$search.val().length<2&&0!==this.UI.$search.val().length||this.UI.$form.ajaxSubmit({url:this.UI.$form.data("hints-url"),success:function(t){e.insertLinks(t)}})}},{key:"insertLinks",value:function(t){var n=this;this.UI.$linkContainer.html(""),t.forEach(function(t){e('<a href="'+t.link+'">'+t.text+"</a>").appendTo(n.UI.$linkContainer)})}}]),t}();t.default=c}).call(this,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=r(n(4)),s=r(n(52)),a=n(1);function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n.length&&(this.$select=n,this.wait=1e3,this.timeout=!1,this.placeholder=n.attr("placeholder"),Object.assign(this,{UI:{$multiselect:null,$text:null,$reset:null,$dropdown:null,$searchInput:null},ps:null,hasSearch:null}),this.render(),this.binding(),e(this.$select.prop("options")).filter("[selected]").each(function(t,n){i.UI.$dropdown.children("li").filter(function(t,i){return parseInt(e(i).data("value"),10)===parseInt(n.value,10)}).trigger("click",{noTriggerChange:!0})}),n.on("reset",function(){var e=n.next(".multiselect");n.val(""),e.removeClass("_select"),e.find(".multiselect__text").text(e.attr("aria-placeholder")),i.UI.$dropdown.children("li").removeClass("_selected")}))}return i(t,[{key:"render",value:function(){this.$multiselect=e('<div class="multiselect" aria-placeholder="'+this.placeholder+'">\n           <div class="multiselect__field-wrap">\n            <div class="multiselect__field">\n                <span class="multiselect__text">'+this.$select.attr("placeholder")+'</span>\n            </div>\n                <button type="button" class="multiselect__reset"></button>\n            </div>\n\n            <ul class="multiselect__dropdown"></ul>\n        </div>'),this.$multiselect.insertAfter(this.$select),this.UI.$text=this.$multiselect.find(".multiselect__text"),this.UI.$reset=this.$multiselect.find(".multiselect__reset"),this.UI.$dropdown=this.$multiselect.find(".multiselect__dropdown"),this.UI.$multiselectField=this.$multiselect.find(".multiselect__field"),this.hasSearch=this.$select.hasClass("js-filter-search"),this.hasSearch&&(this.UI.$dropdown.prepend('<input class="js-filter-search-input" placeholder="Поиск">'),this.UI.$searchInput=this.UI.$dropdown.find(".js-filter-search-input")),this.renderList(this.getOptions())}},{key:"getOptions",value:function(){return[].map.call(this.$select.prop("options"),function(e){return{text:e.text,value:e.value,selected:e.selected}})}},{key:"renderList",value:function(t){this.UI.$dropdown.children("li").remove();var n=e(t.map(function(e){var t=e.text;return'\n              <li data-value="'+e.value+'" class="'+(e.selected?"_selected":"")+'">\n                <span>'+t+'</span>\n                <i class="multiselect__checkbox"></i>\n              </li>'}).join(""));this.hasSearch?n.insertAfter(this.UI.$searchInput):this.UI.$dropdown.append(n)}},{key:"binding",value:function(){var t=this,n=function(){t.$multiselect.hasClass("_open")&&(t.UI.$dropdown.stop(!0,!0).slideToggle(20),t.$multiselect.removeClass("_open"),null!==t.ps&&(t.ps.destroy(),t.ps=null),t.hasSearch&&(t.UI.$searchInput.val("").blur(),t.renderList(t.getOptions())))};this.UI.$multiselectField.click(function(){t.$multiselect.hasClass("_open")?n():(t.$multiselect.addClass("_open"),t.UI.$dropdown.stop(!0,!0).slideToggle(200,function(){t.ps=new o.default(t.$multiselect.find(".multiselect__dropdown").get(0)),t.hasSearch&&t.UI.$searchInput.focus(),e(document).one("click.closeOutsideMultiselect",function i(o){!e(o.target).closest(t.$multiselect).length>0?n():e(document).off("click.closeOutsideMultiselect").one("click.closeOutsideMultiselect",i)})}))}),this.UI.$dropdown.on("click","li",function(n){var i=n.currentTarget,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e(i),a=s.data("value"),r=t.UI.$dropdown.children("li");s.toggleClass("_selected");var l=s.hasClass("_selected"),c=r.filter("._selected").length,u=t.placeholder;if(1===c){var d=r.filter("._selected");u=t.placeholder+": "+d.text()}c>1&&(u=t.placeholder+": "+c),t.$select.children("option[value='"+a+"']").prop("selected",l),t.UI.$text.text(u),t.$multiselect.toggleClass("_select",c>0),o.noTriggerChange||t.$select.trigger("change")}),this.$multiselect.on("touchmove",function(e){e.currentTarget.stopPropagation()}),this.UI.$dropdown.on("input",this.UI.$searchInput,(0,a.debounce)(150,function(e){var n=e.target;if(n.value.length){var i=new s.default(t.getOptions(),{shouldSort:!1,includeScore:!0,keys:["text"],threshold:.1}).search(n.value);t.renderList(i.sort(function(e,t){return e.score<t.score?-1:1}).map(function(e){var t=e.item;return{text:t.text,value:t.value,selected:t.selected}}))}else t.renderList(t.getOptions());t.ps.update()})),this.UI.$reset.click(function(){t.renderList(t.getOptions()),t.$multiselect.removeClass("_select"),t.UI.$text.text(""+t.placeholder),t.$select.children("option").prop("selected",!1),t.$select.trigger("change")})}}]),t}();t.default=l}).call(this,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(54),s=n(1);var a=function(){function t(n){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,{UI:{$imgs:n},srcArray:[],getSrcObj:function(e){if(!e)return{sm:"",lg:""};var t=e.prop("src");return{sm:t,lg:e.data("high-res-src")?e.data("high-res-src"):t}},update:function(){var e=i.controls.currentIndex;t.$prev.toggleClass("_disabled",0===e),t.$next.toggleClass("_disabled",e+1===i.srcArray.length)},controls:{currentIndex:0,prev:function(){return!t.$prev.hasClass("_disabled")&&(this._show(this.controls.currentIndex-1),!0)},next:function(){return!t.$next.hasClass("_disabled")&&(this._show(this.controls.currentIndex+1),!0)}}}),n.css("cursor","zoom-in").each(function(t,n){i.srcArray.push(i.getSrcObj(e(n)))}),n.css("cursor","zoom-in"),!t.imgViewer){t.imgViewer=new o.FullScreenViewer({snapView:!1,maxZoom:400});var a=e(".iv-fullscreen"),r=a.find(".iv-wrap");r.children(".iv-control").length||(r.append('<button class="iv-control iv-next" type="button"></button><button class="iv-control iv-prev" type="button"></button>'),t.$next=r.children(".iv-next"),t.$prev=r.children(".iv-prev")),e(document).on("keydown",(0,s.debounce)(100,function(e){a.length&&(37===e.keyCode?a.find(".iv-prev").click():39===e.keyCode?a.find(".iv-next").click():27===e.keyCode&&a.find(".iv-fullscreen-close").click())}))}}return i(t,[{key:"open",value:function(e){var n=this.srcArray.map(function(e){return e.sm}).indexOf(this.getSrcObj(e).sm);-1===n&&(n=0),t.$prev.off("click.gallery").on("click.gallery",this.controls.prev.bind(this)),t.$next.off("click.gallery").on("click.gallery",this.controls.next.bind(this)),this._show(n)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.srcArray[e],i=n.sm,o=n.lg;t.imgViewer.show(i,o),this.controls.currentIndex=e,this.update()}}]),t}();t.default=a}).call(this,n(0))}]);